<RootWidget>:
    preset: preset
    metode: metode
    lgt: lgt
    lat: lat
    timezone: timezone
    offset: offset
    jeda_pendek: jeda_pendek
    jeda_panjang: jeda_panjang
    perhitungan: perhitungan
    listview_container: listview_container

    orientation: 'vertical'
    BoxLayout:
        size_hint_y: None
        height: '48sp'
        ToggleButton:
            group: 'menu'
            text: 'Jadwal'
            state: 'down'
            on_release: sm.current = 'jadwal'
        ToggleButton:
            group: 'menu'
            text: 'Teks'
            on_release: sm.current = 'teks'
        ToggleButton:
            group: 'menu'
            text: 'Setting'
            on_release: sm.current = 'setting'

    ScreenManager:
        id: sm
        # Jadwal
        Screen:
            name: 'jadwal'
            BoxLayout:
                orientation: 'vertical'
                padding: '16sp'

                BoxLayout:
                    size_hint_y: None
                    height: '100sp'
                    Label:
                        id: tanggal
                        font_size: '32sp'
                        halign: 'center'

                GridLayout:
                    rows: 2
                    id: perhitungan
                    row_default_height: '48sp'
                    size_hint_y: None
                    height: self.minimum_height
                
                BoxLayout:

                GridLayout:
                    cols: 4
                    size_hint_y: None
                    row_default_height: '48sp'
                    spacing: '16sp'
                    height: self.minimum_height

                    Label:
                        text: 'Preset'
                    Spinner:
                        id: preset
                        text: 'Jakarta'
                        on_text: root.do_preset()
                    
                    Label:
                        text: 'Longitude'
                        halign: 'center'
                    TextInput:
                        id: lgt
                        size_hint_y: None
                        height: '16sp'
                        padding: '16sp'
                        text: '-6.393985'
                        on_text_validate: root.do_hisab()
                        multiline: False

                    Label:
                        text: 'Metode perhitungan'
                    Spinner:
                        id: metode
                        text: 'Makkah'
                        values: ['Makkah', 'MWL', 'Karachi', 'Egypt']
                        on_text: root.do_hisab()

                    Label:
                        text: 'Latitude'
                        halign: 'center'
                    TextInput:
                        id: lat
                        size_hint_y: None
                        height: '16sp'
                        padding: '16sp'
                        text: '106.798225'
                        multiline: False
                        on_text_validate: root.do_hisab()
                    
                    Label:
                        text: 'Zona waktu'
                    TextInput:
                        id: timezone
                        text: '+7'
                        height: '16sp'
                        padding: '16sp'
                        multiline: False
                        on_text_validate: root.do_hisab()

                    Label:
                        text: 'Jeda iqomah\n(pendek)'
                        halign: 'center'
                    TextInput:
                        id: jeda_pendek
                        height: '16sp'
                        padding: '16sp'
                        multiline: False

                    Label:
                        text: 'Offset'
                    TextInput:
                        id: offset
                        height: '16sp'
                        padding: '16sp'
                        multiline: False
                        on_text_validate: root.do_hisab()

                    Label:
                        text: 'Jeda iqomah\n(panjang)'
                        halign: 'center'
                    TextInput:
                        id: jeda_panjang
                        size_hint_y: None
                        height: '16sp'
                        padding: '16sp'
                        multiline: False

        Screen:
            name: 'teks'
            BoxLayout:
                spacing: '16sp'
                padding: '16sp'
                BoxLayout:
                    orientation: 'vertical'
                    spacing: '16sp'
                    # running text
                    TextInput:
                        padding: '16sp'
                        text: 'Tulis running text disini'
                    # parameter running text
                    GridLayout:
                        cols: 2
                        size_hint_y: None
                        spacing: '16sp'
                        row_default_height: '48sp'
                        height: self.minimum_height
                        Label:
                            text: 'Gerakan teks'
                        Spinner:
                            text: 'Kanan ke kiri'
                            values: ['Kanan ke kiri', 'Bawah ke atas', 'Berpendar']
                        Label:
                            text: 'Durasi tampil'
                        Spinner:
                            text: 'Normal'
                            values: ['Sebentar', 'Normal', 'Lama']
                        Label:
                            text: 'Kecepatan gerak'
                        Spinner:
                            text: 'Normal'
                            values: ['Lambat', 'Normal', 'Cepat']
                        Button:
                            text: 'Buang'
                        Button:
                            text: 'Simpan'
                BoxLayout:
                    spacing: '16sp'
                    orientation: 'vertical'
                    BoxLayout:
                        id: listview_container
                    BoxLayout:
                        spacing: '16sp'
                        size_hint_y: None
                        height: '48sp'
                        Button:
                            text: 'Pindah naik'
                        Button:
                            text: 'Pindah turun'

        Screen:
            name: 'setting'
            BoxLayout:
                spacing: '16sp'
                padding: '16sp'
                orientation: 'vertical'
                GridLayout:
                    cols: 1
                    spacing: '16sp'
                    height: self.minimum_height
                    row_default_height: '48sp'
                    size_hint_y: None
                    # file browser
                    Label:
                        text: 'File konfigurasi'
                        text_size: self.size
                    BoxLayout:
                        spacing: '16sp'
                        size_hint_y: None
                        height: '48sp'
                        TextInput:
                            padding: '16sp'
                        Button:
                            text: 'Browse'
                            size_hint_x: None
                            width: '100sp'
                        Button:
                            text: 'Buka file'
                            size_hint_x: None
                            width: '100sp'
                        Button:
                            text: 'Simpan'
                            size_hint_x: None
                            width: '100sp'

                    # Perangkat
                    Label:
                        text: 'Perangkat'
                        text_size: self.size
                    BoxLayout:
                        spacing: '16sp'
                        Spinner:
                            text: 'Port'
                        Spinner:
                            text: 'Baud rate'
                        Button:
                            text: 'Open'
                            size_hint_x: None
                            width: '100sp'
                        Button:
                            text: 'Upload'
                            size_hint_x: None
                            width: '100sp'
                Label:
                    text: 'Logging'
                    text_size: self.size
